{"version":3,"sources":["scripts/main.js"],"names":["API_URL","getFirstReceivedDetails","phonesIds","Promise","race","map","phoneId","fetch","then","resp","json","getAllSuccessfulDetails","allSettled","results","slice","result","value","getPhones","response","phones","phone","id","first","firstReceived","name","document","querySelector","insertAdjacentHTML","forEach","ulElement","allSuccessful"],"mappings":";AAAA,aAEA,IAAMA,EAAU,4DAEhB,SAASC,EAAwBC,GACxBC,OAAAA,QAAQC,KAAKF,EAAUG,IAAI,SAAAC,GAChCC,OAAAA,MAAMP,EAAqBM,WAAAA,OAAAA,EAAtB,UACFE,KAAK,SAAAC,GAAQA,OAAAA,EAAKC,YAGzB,SAASC,EAAwBT,GACxBC,OAAAA,QAAQS,WACbV,EAAUG,IAAI,SAAAC,GAAWC,OAAAA,MAAMP,EAAqBM,WAAAA,OAAAA,EAAtB,UAC3BE,KAAK,SAAAC,GAAQA,OAAAA,EAAKC,YACpBF,KAAK,SAAAK,GAAWA,OAAAA,EAAQC,MAAM,EAAG,KACjCN,KAAK,SAAAK,GAAWA,OAAAA,EAAQR,IAAI,SAAAU,GAAUA,OAAAA,EAAOC,UAGlD,SAASC,IACAV,OAAAA,MAAMP,EAAU,gBACpBQ,KAAK,SAAAU,GAAYA,OAAAA,EAASR,SAG/BO,IACGT,KAAK,SAAAW,GAAUA,OAAAA,EAAOd,IAAI,SAAAe,GAASA,OAAAA,EAAMC,OACzCb,KAAK,SAAAF,GACJL,OAAAA,EAAwBK,GACrBE,KAAK,SAAAc,GACEC,IAAAA,EAIQD,wHAAAA,OAAAA,EAAME,KAJpB,wDASAC,SAASC,cAAc,QACpBC,mBAAmB,YAAaJ,OAI3CN,IACGT,KAAK,SAAAW,GAAUA,OAAAA,EAAOd,IAAI,SAAAe,GAASA,OAAAA,EAAMC,OACzCb,KAAK,SAAAN,GACJS,OAAAA,EAAwBT,GACrBM,KAAK,SAAAW,GACJA,EAAOS,QAAQ,SAAAR,GACPS,IAAAA,EAAYJ,SAASC,cAAc,sBAErCG,GAAAA,EACFA,EAAUF,mBACR,YACOP,OAAAA,OAAAA,EAAMI,KAFf,cAIK,CACCM,IAAAA,EAIQV,wIAAAA,OAAAA,EAAMI,KAJpB,oEASAC,SAASC,cAAc,QACpBC,mBAAmB,YAAaG","file":"main.d5e2f211.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst API_URL = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nfunction getFirstReceivedDetails(phonesIds) {\n  return Promise.race(phonesIds.map(phoneId =>\n    fetch(API_URL + `/phones/${phoneId}.json`)\n      .then(resp => resp.json())));\n}\n\nfunction getAllSuccessfulDetails(phonesIds) {\n  return Promise.allSettled(\n    phonesIds.map(phoneId => fetch(API_URL + `/phones/${phoneId}.json`)\n      .then(resp => resp.json())))\n    .then(results => results.slice(0, 3))\n    .then(results => results.map(result => result.value));\n}\n\nfunction getPhones() {\n  return fetch(API_URL + '/phones.json')\n    .then(response => response.json());\n}\n\ngetPhones()\n  .then(phones => phones.map(phone => phone.id))\n  .then(phoneId =>\n    getFirstReceivedDetails(phoneId)\n      .then(first => {\n        const firstReceived = `\n          <div class=\"first-received\">\n            <h3>First Received</h3>\n            <ul>\n                <li>${first.name}</li>\n            </ul>\n          </div>\n        `;\n\n        document.querySelector('body')\n          .insertAdjacentHTML('beforeend', firstReceived);\n      }),\n  );\n\ngetPhones()\n  .then(phones => phones.map(phone => phone.id))\n  .then(phonesIds =>\n    getAllSuccessfulDetails(phonesIds)\n      .then(phones => {\n        phones.forEach(phone => {\n          const ulElement = document.querySelector('.all-successful ul');\n\n          if (ulElement) {\n            ulElement.insertAdjacentHTML(\n              'beforeend',\n              `<li>${phone.name}</li>`,\n            );\n          } else {\n            const allSuccessful = `\n              <div class=\"all-successful\">\n                <h3>All Successful</h3>\n                <ul>\n                    <li>${phone.name}</li>\n                </ul>\n              </div>\n            `;\n\n            document.querySelector('body')\n              .insertAdjacentHTML('beforeend', allSuccessful);\n          }\n        });\n      }),\n  );\n"]}